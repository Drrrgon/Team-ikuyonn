<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ikuyonn.project.mail.mapper.MailMapper">

<select id = "mailList" parameterType = "String" resultType = "Email">
select * from email where userID =#{userID}
</select>

<select id = "getAddress" parameterType = "String" resultType = "Email">
select * from email where emailAddress =#{emailAddress}
</select>

<insert id="addAddress" parameterType = "Email">
insert into email(userID,emailAddress,emailId,emailPassword,host,smtp)
values(#{userID},#{emailAddress},#{emailId},#{emailPassword},#{host},#{smtp})
</insert>

<select id = "checkEmail" parameterType = "Email" resultType = "int">
select count(*) from email where emailAddress=#{emailAddress}
</select>

<delete id = "delAddress" parameterType = "Email">
delete email where userID = #{userID} and emailAddress=#{emailAddress}
</delete>

<insert id="addInbox" parameterType = "Inbox">
insert into inbox(emailAddress,msgNum,title,content,sentdate,sentaddress)
values(#{emailAddress},#{msgNum},#{title},#{content},#{sentdate},#{sentaddress})
</insert>

<delete id = "clearInbox" >
delete inbox
</delete>

<select id = "getInbox"  parameterType ="Inbox" resultType = "Inbox">
select * from inbox where emailAddress = #{emailAddress} order by to_number(msgnum) desc
</select>

<select id = "getmail" parameterType = "Inbox" resultType = "Inbox">
select * from inbox where emailAddress = #{emailAddress} and msgNum = #{msgNum}
</select>
</mapper>
